jQuery(document).ready(function(a){if("undefined"!=typeof yith_wacp){var d=a("#yith-wacp-popup"),h=d.find(".yith-wacp-overlay"),k=d.find(".yith-wacp-close"),e=function(){d.removeClass("open");setTimeout(function(){d.find(".yith-wacp-content").html("")},2E3)},f=function(){var a=d.find(".yith-wacp-wrapper");a.css({left:"50%",top:"50%","margin-left":-a.outerWidth()/2,"margin-top":-a.outerHeight()/2})};a(window).on("resize yith_wacp_popup_changed",f);a("body").on("added_to_cart wacp_single_added_to_cart",
    function(b,c,l,m){"undefined"==typeof c&&(c=a.parseJSON(sessionStorage.getItem(wc_cart_fragments_params.fragment_name)));a.each(c,function(b,c){if("yith_wacp_message"==b)return d.find(".yith-wacp-content").html(c),g(),f(),"undefined"!=typeof a.fn.perfectScrollbar&&d.find(".yith-wacp-content").perfectScrollbar({suppressScrollX:!0}),d.addClass("open"),d.find("a.continue-shopping").on("click",function(a){a.preventDefault();e()}),!1})});h.on("click",e);k.on("click",function(a){a.preventDefault();e()});
    var g=function(){a(".yith-wacp-remove-cart").off("click").on("click",function(b){b.preventDefault();b=a(this).parents("table");var c={action:yith_wacp.actionremove,_nonce:yith_wacp.remove_nonce,item_key:a(this).data("item_key")};b.block({message:null,overlayCSS:{background:"#fff url("+yith_wacp.loader+") no-repeat center",opacity:.5,cursor:"none"}});a.ajax({url:yith_wacp.ajaxurl,data:c,dataType:"json",success:function(c){a(".yith-wacp-content table.cart-list").replaceWith(a(c.html).filter("table.cart-list"));
        a(".yith-wacp-content div.cart-info").replaceWith(a(c.html).filter("div.cart-info"));g();a(window).trigger("yith_wacp_popup_changed")}})})};a("div.summary form.cart").on("submit",function(b){if("undefined"!=typeof wc_cart_fragments_params&&yith_wacp.enable_single){var c=a(this),d=c.find('button[type="submit"]');c.find('input[name="yith-wacp-is-excluded"]').length||(b.preventDefault(),d.addClass("loading").removeClass("added"),b=c.serializeArray(),b.push({name:"_nonce",value:yith_wacp.add_nonce},{name:"action",
        value:yith_wacp.actionadd}),a.ajax({url:yith_wacp.ajaxurl,data:a.param(b),success:function(b){b.msg?(c.parents("div.product").before(b.msg),a("body").animate({scrollTop:0},500),d.removeAttr("disabled").removeClass("loading")):a.ajax({url:wc_cart_fragments_params.ajax_url,type:"POST",data:{action:"woocommerce_get_refreshed_fragments",product_id:b.prod_id},success:function(b){b&&b.fragments&&(a.each(b.fragments,function(b,c){a(b).replaceWith(c)}),$supports_html5_storage&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,
        JSON.stringify(b.fragments)),sessionStorage.setItem("wc_cart_hash",b.cart_hash)),a("body").trigger("wc_fragments_refreshed").trigger("wacp_single_added_to_cart"),d.removeAttr("disabled").removeClass("loading").addClass("added"))}})}}))}})}});